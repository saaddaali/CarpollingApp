<div class="reservation-view">
    <p-card styleClass="mb-4">
        <div class="flex align-items-center justify-content-between mb-4">
            <h2 class="m-0">Détails de la réservation</h2>
            <p-tag severity="success" value="Confirmée"></p-tag>
        </div>

        <p-divider></p-divider>

        <div class="grid">
            <div class="col-12 md:col-6">
                <p-panel header="Information du trajet" styleClass="info-panel">
                    <div class="flex flex-column gap-3">
                        <div class="detail-item">
                            <label>Trajet ID</label>
                            <span class="font-semibold">{{item.trajet?.id}}</span>
                        </div>
                        <div class="detail-item">
                            <label>Date de réservation</label>
                            <span class="font-semibold">{{item.dateReservation | date:dateFormat}}</span>
                        </div>
                        <div class="detail-item">
                            <label>Montant</label>
                            <span class="price-tag">{{item.montant}} MAD</span>
                        </div>
                    </div>
                </p-panel>
            </div>

            <div class="col-12 md:col-6">
                <p-panel header="Information passager" styleClass="info-panel">
                    <div class="flex flex-column gap-3">
                        <div class="detail-item">
                            <label>Conducteur</label>
                            <span class="font-semibold">{{item.driver?.email}}</span>
                        </div>
                        <div class="detail-item">
                            <label>Passager</label>
                            <span class="font-semibold">{{item.passenger?.email}}</span>
                        </div>
                        <div class="detail-item">
                            <label>Note</label>
                            <span>
                                <p-rating [ngModel]="item.evaluation" [readonly]="true" [stars]="5"></p-rating>
                            </span>
                        </div>
                    </div>
                </p-panel>
            </div>

            <div class="col-12 md:col-6">
                <p-panel header="Paiement" styleClass="info-panel">
                    <div class="flex flex-column gap-3">
                        <div class="detail-item">
                            <label>Carte bancaire</label>
                            <span class="font-semibold">{{item.carteBancaire?.id}}</span>
                        </div>
                        <div class="detail-item">
                            <label>Date de paiement</label>
                            <span class="font-semibold">{{item.datePaiement | date:dateFormat}}</span>
                        </div>
                        <div class="detail-item status-item">
                            <label>Statut</label>
                            <p-tag severity="success" value="Payé"></p-tag>
                        </div>
                    </div>
                </p-panel>
            </div>

            <div class="col-12 md:col-6">
                <p-panel header="Discussion" styleClass="info-panel">
                    <div class="message-content">
                        <i class="pi pi-comments text-xl mb-2"></i>
                        <span class="font-semibold">{{item.conversation?.libelle}}</span>
                    </div>
                </p-panel>
            </div>
        </div>

        <div class="flex justify-content-end mt-4">
            <p-button
                label="Retour"
                icon="pi pi-times"
                styleClass="p-button-outlined"
                (onClick)="hideViewDialog()">
            </p-button>
        </div>
    </p-card>
</div>
